<!DOCTYPE html>
<html>
  <head>
	<meta content='113285851822046' property='fb:pages'/>
	<meta content='1022555748903596' property='fb:app_id'/>
	<meta content='113285851822046' property='fb:admins'/>
    	<title>Tool - UseQR</title>
	<meta content='width=device-width, initial-scale=1' name='viewport'/>
	<link rel="shortcut icon" type="image/x-icon" href="../i/favicon.ico" />
	<link rel="apple-touch-icon" sizes="180x180" href="../i/apple-touch-icon.png" />
	<link rel="icon" type="image/png" sizes="32x32" href="../i/favicon-32x32.png" />
	<link rel="icon" type="image/png" sizes="16x16" href="../i/favicon-16x16.png" />
	<link rel="shortcut icon" href="../i/favicon.ico" /> 
	<meta name="title" content="Tool - UseQR" />
	<meta name="description" content="Tool a QR Code" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://useqr.link/t/" />
	<meta property="og:title" content="Tool - UseQR" />
	<meta property="og:description" content="Tool a QR Code" />
	<meta property="og:image" content="https://useqr.link/i/1200x628.jpg" />
	<meta property="og:image:alt" content="https://useqr.link/i/1200x628.jpg" />
	<meta property="twitter:card" content="summary_large_image" />
	<meta property="twitter:url" content="https://useqr.link/extract/" />
	<meta property="twitter:title" content="Tool - UseQR" />
	<meta property="twitter:description" content="Tool a QR Code" />
	<meta property="twitter:image" content="https://useqr.link/i/1200x628.jpg" />
	<meta itemprop="name" content="Tool - UseQR" />
	<meta name="msapplication-TileColor" content="#2b5797" />
	<meta name="theme-color" content="#ffffff" />
	<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js' type='text/javascript'></script>
  	<script src="../qrcode.js"></script>
  </head>
  <style>
body {
    background-color:#eee;	
}
.tableresult {
    width: 100%;
    padding: 10px;
}
#srcQR {
    width: 100px;
}
a {
    width: 100%;
    display: flex;
    height: 50px;
}
#post {
    margin: 0 15%;
    overflow:hidden;
    background-color:#fff;
    box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;
}
  </style>
  <body>
    <div class="main">
	<div id="post"></div>
    </div>
    <script>
var TEST_NUMERIC = /^\d+$/, TEST_ALPHANUMERIC = /^[0-9A-Z$%*+-./: ]+$/;
function chooseBestModeData(data) {
   if (TEST_NUMERIC.test(data)) { return new QRCode.QRNumeric(data); } else if (TEST_ALPHANUMERIC.test(data)) { return new QRCode.QRAlphanumeric(data); }
   try { return new QRCode.QRKanji(data); } catch (error) { return new QRCode.QRByte(data); }
}
	    
	var urlasli = window.location.href;
	var akh = urlasli.slice(-1); if (akh == "-") {window.location="/404"}
	var dataUrl = urlasli.replace(/.+co?=/,"").split("-");
	console.log(dataUrl);
	var posts = '';   
	for (var i = 0; i < dataUrl.length; i++) {   
	var tcoUrl = 'https://t.co/'+dataUrl[i];

 var data = tcoUrl;
 var mode = 'Auto'; var ecLevel = 'L'; var margin = '5'; var moduleSize = '8'; var hasEncodingHint = false;
 var qrcode = new QRCode.Encoder();
 var errorCorrectionLevel = QRCode.ErrorCorrectionLevel[ecLevel];
 qrcode.setEncodingHint(hasEncodingHint).setErrorCorrectionLevel(errorCorrectionLevel);
 try {
	var data = mode === 'Auto' ? chooseBestModeData(data) : new QRCode[mode](data);
	qrcode.write(data).make();
	var srcimgQR = qrcode.toDataURL(moduleSize, margin); //console.log(srcimgQR);
 } catch (error) { alert(error.message); }	  
 var imgQR = '<img id="srcQR" class="srcQR" src="'+srcimgQR+'"></img>';
	
	var hasil  = '<tr><td>'+imgQR+'</td><td>Part '+(i+1)+' <a href="'+tcoUrl+'">'+tcoUrl+'</a></td></tr>';	
	posts += hasil;	
	}
	var postresult = '<table class="tableresult">'+posts+'</table>';
	document.getElementById('post').innerHTML = postresult;
	    
    </script>	  
  </body>
</html>
