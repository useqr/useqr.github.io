<html>
  <head>
	<meta content='113285851822046' property='fb:pages'/>
	<meta content='1022555748903596' property='fb:app_id'/>
	<meta content='113285851822046' property='fb:admins'/>
    	<title>useQR</title>
	<meta content='width=device-width, initial-scale=1' name='viewport'/>
	<link rel="shortcut icon" type="image/x-icon" href="../../i/favicon.ico" />
	<link rel="apple-touch-icon" sizes="180x180" href="../../i/apple-touch-icon.png" />
	<link rel="icon" type="image/png" sizes="32x32" href="../../i/favicon-32x32.png" />
	<link rel="icon" type="image/png" sizes="16x16" href="../../i/favicon-16x16.png" />
	<link rel="shortcut icon" href="../../i/favicon.ico" /> 
	<meta itemprop="name" content="useQR" />
	<meta name="msapplication-TileColor" content="#2b5797" />
	<meta name="theme-color" content="#ffffff" />
	<script src='https://useqr.link/qrcode.js' type='text/javascript'></script>
	<script src='https://useqr.link/js/base64.js' type='text/javascript'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js' type='text/javascript'></script>
  </head>
  <style>
	  .blogger-post-footer {display: none;}
	  body {
    background-color: #eee;
}
#nobat {
    margin: 5% 10%;
    border: 10px solid #d9d9d9;
    padding: 3%;
    box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;
    background-color: azure;
}

.simsil, .sim3ttk {
    color: red;
    border: 1px solid red;
    padding: 0px 5px;
    border-radius: 50%;
}

.imprtn {
    text-align: justify;
    color: orange;
    background-color: cornsilk;
    margin: 0px;
    padding: 10px;
    position: sticky;
    box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;
    border-radius: 5px;
}
@media screen and (min-width: 480px) {
  .imprtn {
    display:none;
  }
}
  </style>	
  <body>
<div class="imprtn">Note: Jika di pojok kiri atas ada simbol silang <span class="simsil">&#215;</span>. Itu menandakan masih terhubung dengan apk/app.</div>
<div class="imprtn">Sehingga mengakibatkan link download tidak dapat diakses dengan lancar. Oleh karena itu perlu dikeluarkan dari apk/app dengan cara:</div>
<div class="imprtn">Tekan titik tiga <span class="sim3ttk">&#65049;</span> di pojok kanan atas, kemudian pilih "Buka di chrome/ Buka di browser sistem".</div>
<div id="nobat">        
<div style="width:100%;height:50px;background-image:url(https://lh4.googleusercontent.com/-9p1SdZRNU30/VmPfSLq56vI/AAAAAAAAANY/_hdOnv_fWJ8/s1600/downloaddas.gif)"></div>      
</div>    
<table></table>	  
<script>

const IdCode = window.location.href.replace(/ht.+de=/,"").replace("#","").replace(/\&fbclid.+/,"").toUpperCase();  
const DoHost = window.location.protocol+'//'+window.location.hostname+window.location.pathname;
const apiUrl = `${DoHost}/${IdCode}.json`, resultContainer = document.getElementById("nobat");

function ngonsole(){              
	  $(document).ready(function(){                      				
		$('a[href^="https://"]').each(function(){  			
			var linkdownloads = $(this).attr("href");             
			var enclinkdownloads = Base64.encode(linkdownloads);             
			var enc2linkdownloads = Base64.encode(enclinkdownloads);              			
			$(this).attr("style","margin:auto !important");    
			$(this).attr("href", "#");  		
			$(this).attr("onclick", "window.open('https://watch.idblog.eu.org/p/go.html?m=1&download="+enc2linkdownloads+"');");	
		});                      	
	  });                
} 		
function olahData(dataitem){
 	var isi = dataitem.konten;
	resultContainer.innerHTML = decodeURIComponent(isi); ngonsole();
}
	
$(document).ready(function() {
        $.ajax({
            url: apiUrl, dataType: 'json',
            success: function(dataitem) {olahData(dataitem)},
            error: function(xhr, status, error) {
                window.location=window.location.protocol+'//'+window.location.hostname+'/';
            }
        });
});

var TEST_NUMERIC = /^\d+$/;
 var TEST_ALPHANUMERIC = /^[0-9A-Z$%*+-./: ]+$/;
 
 function chooseBestModeData(data) {
   if (TEST_NUMERIC.test(data)) {
		return new QRCode.QRNumeric(data);
   } else if (TEST_ALPHANUMERIC.test(data)) {
		return new QRCode.QRAlphanumeric(data);
   }

   try {
		return new QRCode.QRKanji(data);
   } catch (error) {
		return new QRCode.QRByte(data);
   }
 }
	  
 var data = window.location.href.replace("?","@").replace(/@.+/,"");

 var mode = 'Auto';

 var ecLevel = 'L';

 var margin = '5';

 var moduleSize = '8';

 var hasEncodingHint = false;

 var qrcode = new QRCode.Encoder();
 var errorCorrectionLevel = QRCode.ErrorCorrectionLevel[ecLevel];

 qrcode.setEncodingHint(hasEncodingHint).setErrorCorrectionLevel(errorCorrectionLevel);

 try {
	var data = mode === 'Auto' ? chooseBestModeData(data) : new QRCode[mode](data);

	qrcode.write(data).make();

	var srcimgQR = qrcode.toDataURL(moduleSize, margin);
   
 } catch (error) {
   alert(error.message);
 }	  

var imgQR = '<tr><td><img id="srcQR" class="srcQR" src="'+srcimgQR+'"></img></td></tr>';

function nambah(){
	$('#myTable > tbody').append(imgQR);
} 

$(document).ready(function(){          
	$('table').each(function(){ 
            $(this).attr("id", "myTable"); 
            nambah();  
        }); 
 }); 
</script>   
    
  </body>
</html>
